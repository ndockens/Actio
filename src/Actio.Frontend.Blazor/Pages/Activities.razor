@page "/activities"

@using Actio.Frontend.Blazor.Data
@using Actio.Frontend.Blazor.Services
@inject IActivityService ActivityService

<h1>Activities</h1>

@if (activities == null)
{
    <div class="spinner-border text-info" role="status">
        <span class="sr-only">Loading...</span>
    </div>
}
else
{
    <ul class="list-group">
        @foreach (var activity in activities)
        {
            <li class="list-group-item">@activity.Name</li>
        }
    </ul>
}

@code {
    List<Activity> activities;
    
    protected override async Task OnInitializedAsync()
    {
        activities = await ActivityService.GetAsync();
    }
}